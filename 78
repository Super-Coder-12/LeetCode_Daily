def subsets(nums):
    res = []
    
    def backtrack(start, path):
        res.append(path[:])  # 添加当前子集到结果列表
        for i in range(start, len(nums)):
            path.append(nums[i])  # 选择当前元素
            backtrack(i + 1, path)  # 递归构建子集
            path.pop()  # 回溯，撤销选择

    backtrack(0, [])
    return res

# 示例
print(subsets([1, 2, 3]))  # 输出: [[], [1], [1, 2], [1, 2, 3], [1, 3], [2], [2, 3], [3]]
